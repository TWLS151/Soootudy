# T: 테스트 케이스의 개수를 입력받습니다.
T = int(input())

for tc in range(1, 1 + T):
    # N: 경로의 총 길이(칸의 수)를 입력받습니다.
    N = int(input())
    
    # portal: 각 칸에 설정된 포탈 정보를 리스트로 저장합니다.
    # 0은 포탈 없음, 그 외 숫자는 이동할 목적지 인덱스를 의미합니다.
    portal = list(map(int, input().split()))
    
    idx = 0  # 현재 위치(인덱스)를 0(첫 번째 칸)으로 초기화합니다.
    cnt = 0  # 이동 횟수(또는 소요 시간)를 기록할 변수입니다.

    # 현재 위치(idx)가 마지막 칸(N-1)에 도달할 때까지 반복합니다.
    while(idx < N - 1):
        cnt += 1  # 기본 이동: 다음 칸으로 가기 위해 카운트를 1 증가시킵니다.
        idx += 1  # 다음 칸으로 위치를 1 옮깁니다.

        # 만약 새로 이동한 칸(portal[idx])에 0이 아닌 숫자가 있다면(포탈이 있다면):
        if portal[idx] != 0:
            temp = portal[idx]   # 포탈의 목적지 값을 임시 변수 temp에 저장합니다.
            portal[idx] = 0      # [중요] 한 번 사용한 포탈은 사라지도록 0으로 설정(무한 루프 방지).
            
            # 포탈을 타고 이동하는 과정:
            idx = temp - 1       # 포탈 목적지로 위치를 변경합니다 (인덱스는 0부터 시작하므로 -1).
            cnt += 1             # 포탈을 통해 이동한 것도 이동 횟수 1회로 간주합니다.

    # 최종 결과 출력: 테스트 케이스 번호와 함께 총 이동 횟수를 출력합니다.
    print(f"#{tc} {cnt}")